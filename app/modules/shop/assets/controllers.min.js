(function(b){b=b.module("shopModule");b.controller("ToBasketCtrl",["$scope",function(a){}]);b.controller("OrderListCtrl",["$scope","shopBasket",function(a,c){a.order=c.getOrder();this.del=function(a){c.del(a.item_key)};this.update=function(a){c.update(a.item_key,a.qty)};a.readOnly=!1}]);b.controller("ProcessOrderCtrl",["$scope","shopBasket","shopMessages",function(a,c,b){a.order=c.getOrder();a.messages=b;a.readOnly=!0;a.shopBasket=c;a.$watch("shopBasket.hasOrderLoaded",function(b){b&&(a.deliveries=
c.getDeliveries(),a.payments=c.getPayments(),a.$watch("order.delivery_id",function(b){if(b=c.findObject(a.deliveries,"id",b))a.deliveryDescription=b.text}),a.$watch("order.payment_id",function(b){if(b=c.findObject(a.payments,"id",b))a.paymentDescription=b.text}))});this.confirmOrder=function(){c.confirmOrder(function(b){a.success=!0;a.orderId=b.id},function(){a.success=!1})}}]);b.controller("BasketInfoCtrl",["$scope","shopBasket",function(a,b){a.stat=b.getStat()}])})(angular);
